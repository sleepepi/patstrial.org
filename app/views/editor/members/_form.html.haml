- if member.new_record?
  - url = editor_members_path
  - method = :post
- else
  - url = editor_member_path(member)
  - method = :patch
= form_with model: member, url: url, method: method, local: true do |form|
  = render "forms/horizontal/text_field", form: form, object: member, key: :first_name
  = render "forms/horizontal/text_field", form: form, object: member, key: :last_name
  = render "forms/horizontal/text_field", form: form, object: member, key: :staffid, key_name: "Staff ID", placeholder: "#-##", maxlength: 4
  = render "forms/horizontal/email_field", form: form, object: member, key: :email
  = render "forms/horizontal/text_field", form: form, object: member, key: :phone
  = render "forms/horizontal/text_field", form: form, object: member, key: :role
  = render "forms/horizontal/select", form: form, object: member, key: :site_id, options: Site.current.order(:name).collect { |s| [s.name, s.id] }, include_blank: true
  = render "forms/horizontal/check_box", form: form, object: member, key: :archived
  = render "forms/horizontal/submit", form: form, object: member, cancel: url
