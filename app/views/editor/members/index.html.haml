- @title = "Members"

- content_for :container_class, "container-fluid"
- content_for :sidebar, render("setup/sidebar")
- content_for :header do
  .float-right
    .per-page= render "layouts/per_page", per_page: 40, object_count: @members.total_count
  = @title
  = link_to "Add New Member", new_editor_member_path, class: "btn btn-sm btn-light"


.jumbotron.jumbotron-custom-text
  You may edit the members in the directory here.

.dashboard-container.dashboard-table
  %table.table.table-striped.table-borderless.table-hover.table-sticky
    %thead
      %tr
        = th_sort_field @order, "members.last_name", "Name"
        = th_sort_field @order, "members.email", "Email", extra_class: "d-none d-lg-table-cell"
        = th_sort_field @order, "members.phone", "Phone"
        = th_sort_field @order, "members.role", "Role", extra_class: "d-none d-lg-table-cell"
        = th_sort_field @order, "members.staffid", "Staff ID", extra_class: "d-none d-lg-table-cell nowrap"
        = th_sort_field @order, "members.archived", "Archived", extra_class: "d-none d-lg-table-cell"
        %th.text-center Actions

    - @members.each do |member|
      %tr
        %td= link_to member.name_reverse, editor_member_path(member), style: "#{"text-decoration: line-through;" if member.archived?}"
        %td.d-none.d-lg-table-cell= member.email
        %td= member.phone
        %td.d-none.d-lg-table-cell= member.role
        %td.d-none.d-lg-table-cell= member.staffid
        %td.d-none.d-lg-table-cell.text-center
          - if member.archived?
            %i.fa.fa-eye-slash.text-muted
        %td.text-center
          = render "layouts/edit_delete_dropdown", edit_url: edit_editor_member_path(member), delete_url: editor_member_path(member), delete_confirmation: "Delete #{member.name}?"

.center-horizontally
  = paginate @members, theme: "bootstrap"

